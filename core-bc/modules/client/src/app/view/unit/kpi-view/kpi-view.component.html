<app-menu-title-row>

  <div class="menu-title-item">
    <app-breadcrumbs *ngIf="unit" type="unit" [current]="unit"></app-breadcrumbs>
  </div>
      
  <div class="menu-title-item right">
      <app-dashboard-menu *ngIf="unit" [unit]="unit" type="unit-dashboard"></app-dashboard-menu>
  </div>

</app-menu-title-row>

<ng-template #loading>
  <app-loading-indicator></app-loading-indicator>
</ng-template>

<app-layout *ngIf="unit; else loading">

  <app-layout-row>
    
    <app-layout-column width=6>
        <app-widget-messages [messages]="messages" [hasEditUnitPermission]="hasEditUnitPermission()"></app-widget-messages>
    </app-layout-column>
    
    <app-layout-column width=6>
      <app-widget-diet-list [clinic]="clinic" [unit]="unit"></app-widget-diet-list>
    </app-layout-column>

  </app-layout-row>

  <app-layout-row>
    
      <app-layout-column width=6>
          <app-widget-ssks *ngIf="unit?.ssks.length > 0" [unit]="unit"></app-widget-ssks>
      </app-layout-column>
      
      <app-layout-column width=6>

          <app-widget-careburden-average *ngIf="unit?.careBurden == 'tal'" [unit]="unit" [bedsExpanded]="true"></app-widget-careburden-average>
          
          <app-widget-careburden-with-text *ngIf="unit?.careBurden == 'text' && sskCategoryValueMatrix && cbvs" [unit]="unit" [cbvs]="cbvs" [sskCategoryValueMatrix]="sskCategoryValueMatrix"></app-widget-careburden-with-text>
      
      </app-layout-column>

    </app-layout-row>


</app-layout>
